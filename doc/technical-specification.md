# Техническая спецификация: SaaS To-Do List

## Технологический стек

### Backend (API)
*   **Язык и фреймворк:** PHP 8.x, Laravel
*   **База данных:** MySQL
*   **Аутентификация:** JWT (пакет `tymon/jwt-auth` или аналог)
*   **Документация API:** Swagger/OpenAPI (пакет `darkaonline/l5-swagger`)

### Frontend
*   **Технологии:** Чистый HTML5, CSS3, JavaScript (ES6+)
*   **Стили:** Чистый CSS (минималистичный дизайн)
*   **Взаимодействие с API:** Нативный Fetch API

### Тестирование
*   **Автотесты API:** Java + RestAssured (отдельный проект/модуль)
*   **Инструмент документации:** Swagger UI

### Инфраструктура и DevOps
*   **Контроль версий:** Git, хостинг на GitHub
*   **CI/CD:** GitHub Actions
*   **Деплой:** Автоматический деплой на продакшн-сервер через SSH
*   **Локальная разработка:** Рекомендуется Docker (через `laravel/sail`)

## Функциональные требования

### 1. Пользовательская система
*   Регистрация нового пользователя (email, пароль).
*   Аутентификация (вход) существующего пользователя.
*   Восстановление пароля (опциональный функционал для второй версии).

### 2. Управление задачами (Ядро приложения)
*   **Создание:** Добавление новой задачи с названием и описанием.
*   **Чтение:** Просмотр списка всех своих задач и деталей конкретной задачи.
*   **Обновление:** Редактирование названия, описания и статуса задачи (выполнена/не выполнена).
*   **Удаление:** Удаление задачи.
*   **Изоляция данных:** Все операции обеспечивают доступ только к задачам текущего аутентифицированного пользователя.

### 3. Программный интерфейс (API)
*   **Архитектура:** Строго RESTful.
*   **Формат данных:** JSON для всех запросов и ответов.
*   **Защита:** Все эндпоинты, кроме регистрации и входа, защищены проверкой JWT-токена.
*   **HTTP-методы и статусы:** Корректное использование GET, POST, PUT/PATCH, DELETE и соответствующих HTTP-статус-кодов (200, 201, 400, 401, 404, 422, 500).

### 4. Требования к безопасности
*   Пароли пользователей хранятся в виде хэшей (используется bcrypt).
*   Защита от SQL-инъекций обеспечивается использованием ORM Eloquent.
*   Все входные данные от пользователя валидируются на стороне сервера.
*   На продакшн-сервере используется HTTPS.
*   Конфиденциальные данные (ключи БД, JWT-секрет) хранятся в переменных окружения.

### 5. Требования к качеству
*   Публичная документация API, сгенерированная через Swagger/OpenAPI.
*   Наличие базового набора автотестов, проверяющих ключевые сценарии (регистрация, создание/чтение задачи).

## Этапы разработки

### Этап 0: Подготовка инфраструктуры
1.  Настройка локального окружения для разработки (Docker или аналог).
2.  Создание репозитория на GitHub и настройка базовой структуры проекта.
3.  Инициализация Laravel-проекта и настройка подключения к локальной базе данных.
4.  Настройка инструмента для автоматической генерации документации Swagger.

### Этап 1: Базовый API и аутентификация
1.  Разработка модели, миграции и контроллера для сущности "Пользователь".
2.  Реализация API-эндпоинтов для регистрации и входа (логина) с использованием JWT.
3.  Создание и настройка middleware для проверки JWT-токена на защищённых маршрутах.

### Этап 2: Ядро логики (Задачи)
1.  Разработка модели и миграции для сущности "Задача".
2.  Создание связи между моделями "Пользователь" и "Задача".
3.  Реализация полного CRUD API для задач (`/api/tasks`) с соблюдением изоляции данных (пользователь видит только свои задачи).
4.  Добавление валидации входящих данных для всех операций с задачами.

### Этап 3: Фронтенд (Пользовательский интерфейс)
1.  Верстка базовых HTML-страниц: страница авторизации и главная страница приложения (dashboard).
2.  Реализация JavaScript-логики для:
    *   Отправки запросов на регистрацию/логин и сохранения полученного JWT-токена.
    *   Загрузки, отображения, создания, редактирования и удаления задач через API.
    *   Прикрепления токена к заголовкам всех запросов к защищённым эндпоинтам.
3.  Настройка CORS на бэкенде для корректной работы фронтенда.

### Этап 4: Интеграция, документация и деплой
1.  Интеграция фронтенда и бэкенда, отладка взаимодействия.
2.  Финальная настройка и тестирование документации Swagger.
3.  Написание базовых автотестов для API.
4.  Настройка конвейера CI/CD (GitHub Actions) для автоматического тестирования и деплоя на продакшн-хостинг через SSH.
5.  Первое развёртывание приложения на продакшн-сервере.